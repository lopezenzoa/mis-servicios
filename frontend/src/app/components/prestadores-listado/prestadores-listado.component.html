<div class="filtros">
  <select [(ngModel)]="filtroCategoria">
    <option value="">Todas las categorías</option>
    <option *ngFor="let cat of categorias" [value]="cat">{{ cat }}</option>
  </select>

  <input type="text" [(ngModel)]="filtroUbicacion" placeholder="Ubicación" />

  <button (click)="aplicarFiltros()">
    <i class="fas fa-search"></i> Aplicar filtros
  </button>
</div>

<hr />

<div *ngIf="prestadores.length > 0; else sinResultados">
  <div *ngFor="let p of prestadores" class="tarjeta-prestador">
    <h3>{{ p.firstName }} {{ p.lastName }}</h3>
    <p><strong>Email:</strong> {{ p.email }}</p>
    <p><strong>Dirección:</strong> {{ p.address }}</p>
    <p><strong>Licencia:</strong> {{ p.licenseNumber }}</p>
    <p><strong>Categoría:</strong> {{ p.categoryName }}</p>

    <p *ngIf="p.whatsappNumber">
      <strong>WhatsApp:</strong> {{ p.whatsappNumber }}
    </p>
    <button *ngIf="p.whatsappNumber" (click)="contactarPorWhatsApp(p.whatsappNumber)">
      Contactar por WhatsApp
    </button>
  </div>
</div>

<ng-template #sinResultados>
  <p>No se encontraron prestadores para los filtros seleccionados.</p>
</ng-template>
